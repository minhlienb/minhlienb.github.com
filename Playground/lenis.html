<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>GSAP PLAYGROUND</title>
    <meta name="theme-color" content="#0f63ff" />
    <title>GSAP ScrollTrigger with Lenis Smooth Scroll</title>
    <!-- <link rel="stylesheet" href="/lib/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style>
        body {
            height: 300vh;
            overflow-x: hidden;
        }
    </style>
    </head>

<body>
    <section style="height: 100vh; background-color: #ff6666;"></section>
    <section id="horizon" style="height: 100vh; width: fit-content; overflow-x: hidden; flex-wrap: nowrap; background-color: #9bf0a6;">
        <p style="font-size: 9em; white-space: nowrap;"> 나는 따뜻한 나라가 너무 좋아! 나는 따뜻한 나라가 너무 좋아! 나는 따뜻한 너무 좋아! The END!</p>
    </section>
    <p style="writing-mode: vertical-lr; font-size: 6em; white-space: nowrap;"> 나는 따뜻한 나라가 너무 좋아! 나는 따뜻한 나라가 너무 좋아! 나는 따뜻한 나라가 너무 좋아! 나는 따뜻한 나라가 너무 좋아!</p>
    <!-- GSAP Library -->
    <script src="/lib/gsap.min.js"></script>
    <script src="/lib/ScrollTrigger.min.js"></script>
    <script src="/lib/lenis.min.js"></script>


    <script>
        // Readme: Ảnh phải có độ phân giải thấp



        // Tracker: ("*").onClick("writeLog("this.ele.name")")
        // alert("Your screen is: " + window.innerWidth + "x" + window.innerHeight);
        // Initialize Lenis smooth scroll
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // Custom easing function
            smooth: true
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }

        requestAnimationFrame(raf);

        // Register the ScrollTrigger plugin
        gsap.registerPlugin(ScrollTrigger);

        // Update ScrollTrigger with Lenis scroll position
        lenis.on('scroll', ScrollTrigger.update);
    </script>

    <script>
         const tl = gsap.timeline({
            scrollTrigger: {
                trigger: "#horizon",
                start: "top",
                end: "+=1900px",
                pin: true,
                markers: true,
                scrub: true, // Kết nối với cuộn
            }
        });

        tl.to('#horizon', {
            'transform' : 'translateX(-90%)'
        })
    </script>
</body>

</html>